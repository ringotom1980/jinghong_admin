# Path: /public_html/jinghong_admin/.htaccess
# 說明: jinghong_admin 外層路由入口（漂亮網址 + 靜態資源映射）

Options -MultiViews
RewriteEngine On
RewriteBase /jinghong_admin/

# 1) 靜態資源
RewriteRule ^assets/(.*)$ /jinghong_admin/Public/assets/$1 [L,NC]

# 2) 上傳檔案
RewriteRule ^uploads/(.*)$ /jinghong_admin/storage/uploads/$1 [L,NC]

# 3) 實體檔案 / 資料夾直接放行
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# 3.5) Public API（pole）直接映射到實體檔案（避免走 router 回 HTML）
RewriteRule ^api/public/pole/suggest$ /jinghong_admin/Public/api/public/pole/suggest.php [L,NC,QSA]
RewriteRule ^api/public/pole/get$     /jinghong_admin/Public/api/public/pole/get.php     [L,NC,QSA]
RewriteRule ^api/public/pole/suggest\.php$ /jinghong_admin/Public/api/public/pole/suggest.php [L,NC,QSA]
RewriteRule ^api/public/pole/get\.php$     /jinghong_admin/Public/api/public/pole/get.php     [L,NC,QSA]

# 3.6) API 全域映射（/api/xxx → /Public/api/xxx.php）
RewriteRule ^api/(.+)\.php$ /jinghong_admin/Public/api/$1.php [L,NC,QSA]
RewriteRule ^api/(.+)$      /jinghong_admin/Public/api/$1.php [L,NC,QSA]

# 4) 其餘全部交給 router
RewriteRule ^ /jinghong_admin/Public/index.php [L]
